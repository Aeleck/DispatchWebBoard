var fr=void 0!==fr?fr:{},debug=void 0!==debug&&debug;fr.sysapi={CachedSysInfo:{},GetSysInfo:function(e,s,o){var a=e.toUpperCase();if(fr.sysapi.CachedSysInfo.hasOwnProperty(a)){if(debug&&console.log("fr.sysapi.GetSysInfo - Cached System Info Requested: ",fr.sysapi.CachedSysInfo[a]),null===fr.sysapi.CachedSysInfo[a])return void o("error","Not Found",null);s(fr.sysapi.CachedSysInfo[a])}else debug&&console.log("fr.sysapi.GetSysInfo - Retrieving System Info: "+e),fr.sysapi.ApiLookupCall(a,s,o)},ApiLookupCall:function(e,s,o){$.ajax({dataType:"json",url:"https://system.api.fuelrats.com/systems?filter[name:eq]="+encodeURIComponent(e)+"&include=bodies",success:function(a){if(a.meta.results.returned<1)return debug&&console.log('fr.sysapi.ApiEqCall - No system info found for: "'+e+'". Sysinfo search failed. Calling failCallback.'),fr.sysapi.CachedSysInfo[e.toUpperCase()]=null,void o();var n=a.data[0],i=n.attributes.name;if(a.included&&a.included[0]){n.bodies=a.included.filter(function(e){return"Star"===e.attributes.group_name});for(var r in n.bodies)delete n.bodies[r].relationships,delete n.bodies[r].type,delete n.bodies[r].links}delete n.relationships,delete n.type,delete n.links,fr.sysapi.CachedSysInfo.hasOwnProperty(i)||(fr.sysapi.CachedSysInfo[i]=n),debug&&console.log("fr.sysapi.ApiEqCall - System information found: ",n),s(n)}})},DeleteCacheInfo:function(e){var s=e.toUpperCase();fr.sysapi.CachedSysInfo.hasOwnProperty(s)&&delete fr.sysapi.CachedSysInfo[s]}};