var fr=void 0!==fr?fr:{},debug=void 0!==debug&&debug;fr.sysapi={GetSysInfo:function(e,s,t){var o=e.toUpperCase();if(sessionStorage.getItem("system."+o)){var i=JSON.parse(sessionStorage.getItem("system."+o));if(debug&&console.log("fr.sysapi.GetSysInfo - Cached System Info Requested: ",i),null===i)return void t("error","Not Found",null);s(i)}else debug&&console.log("fr.sysapi.GetSysInfo - Retrieving System Info: "+e),fr.sysapi.ApiLookupCall(o,s,t)},ApiLookupCall:function(e,s,t){$.ajax({dataType:"json",url:"https://system.api.fuelrats.com/systems?filter[name:eq]="+encodeURIComponent(e)+"&include=bodies",success:function(o){if(o.meta.results.returned<1)return debug&&console.log('fr.sysapi.ApiEqCall - No system info found for: "'+e+'". Sysinfo search failed. Calling failCallback.'),sessionStorage.setItem("system."+e.toUpperCase(),null),void t();var i=o.data[0],n=i.attributes.name;if(o.included&&o.included[0]){i.bodies=o.included.filter(function(e){return"Star"===e.attributes.group_name});for(var r in i.bodies)delete i.bodies[r].relationships,delete i.bodies[r].type,delete i.bodies[r].links}delete i.relationships,delete i.type,delete i.links,sessionStorage.getItem("system."+n)||sessionStorage.setItem("system."+n,JSON.stringify(i)),debug&&console.log("fr.sysapi.ApiEqCall - System information found: ",i),s(i)}})},DeleteCachedInfo:function(e){var s=e.toUpperCase();sessionStorage.getItem("system."+s)&&sessionStorage.removeItem("system."+s)}};