var fr=void 0!==fr?fr:{},debug=void 0!==debug&&debug;fr.ws=fr.config?{socket:null,initConnection:function(){debug&&console.log("fr.ws.initConnection - WS Connection Starting. DEBUG MODE ACTIVE."),fr.ws.socket=new WebSocket(fr.config.WebSocketStreamURL),fr.ws.socket.onmessage=fr.ws.onMessage,fr.ws.socket.onerror=fr.ws.onError,fr.ws.socket.onclose=fr.ws.onClose,fr.ws.socket.onopen=fr.ws.onOpen},reconnected:!1,clientId:"",onOpen:function(e){fr.ws.subscribe("0xDEADBEEF"),fr.ws.reconnected&&(debug&&console.log("fr.ws.onOpen - WS Connected!"),fr.ws.send("rescues:read",{open:"true"},{updateList:"true"}),fr.ws.reconnected=!1)},onClose:function(e){e.wasClean===!1&&(debug&&console.log("fr.ws.onClose - Disconnected from WSocket. Reconnecting..."),setTimeout(fr.ws.initConnection,2e3),fr.ws.reconnected=!0)},onMessage:function(data){var _data=eval("d = "+data.data);"welcome"===_data.meta.action&&(fr.ws.clientId=_data.meta.id),fr.ws.HandleTPA(_data)},HandleTPA:function(e){},onError:function(e){console.log("=Websocket Module Error="),console.log(e)},send:function(e,n,o){return 1!==fr.ws.socket.readyState?(0===fr.ws.socket.readyState||2!=fr.ws.socket.readyState&&3!=fr.ws.socket.readyState||fr.ws.initConnection(),void setTimeout(function(){fr.ws.send(e,n,o)},1e3)):(debug&&console.log("fr.ws.send - Sending TPA"),void fr.ws.socket.send(JSON.stringify({action:e,applicationId:fr.ws.clientId,data:n,meta:o})))},subscribe:function(e){debug&&console.log("fr.ws.subscribe - Subscirbing to strem!"),fr.ws.socket.send(JSON.stringify({action:"stream:subscribe",applicationId:e}))},searchNickName:function(e,n){return 1!=fr.ws.socket.readyState?(0===fr.ws.socket.readyState||2!=fr.ws.socket.readyState&&3!=fr.ws.socket.readyState||fr.ws.initConnection(),void setTimeout(function(){fr.ws.searchNickName(e,n)},1e3)):(debug&&console.log("fr.ws.searchNickName - Searching for nick: "+e),void fr.ws.socket.send(JSON.stringify({action:"nicknames:search",applicationId:fr.ws.clientId,nickname:e,meta:n})))},fetchAuthCode:function(e){}}:null;